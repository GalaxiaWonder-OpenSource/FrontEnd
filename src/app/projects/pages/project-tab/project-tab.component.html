<section class="project-tab">
  <div class="tab-header">
    <h2>{{ 'project-tab.title' | translate }}</h2>
    <button mat-flat-button color="primary" (click)="openCreateDialog()" *ngIf="currentOrganization()">
      {{ 'project-tab.create' | translate }}
    </button>
  </div>

  <mat-divider></mat-divider>

  <!-- Mostrar informaci贸n de la organizaci贸n actual -->
  <div *ngIf="currentOrganization()" class="organization-info">
    <h3>{{ currentOrganization()?.commercialName || currentOrganization()?.legalName }}</h3>
    <p>{{ 'organization-card.ruc' | translate }}: {{ currentOrganization()?.ruc }}</p>
  </div>

  <!-- Mensaje de carga -->
  <div *ngIf="loading()" class="loading-message">
    <p>{{ 'project-tab.loading' | translate }}</p>
  </div>

  <!-- Mensaje de error si no se encuentra la organizaci贸n -->
  <div *ngIf="!loading() && !currentOrganization()" class="error-message">
    <p>{{ 'project-tab.no-organization' | translate }}</p>
  </div>

  <!-- Lista de proyectos de la organizaci贸n -->
  <div class="organization-projects" *ngIf="currentOrganization()">
    <h3 *ngIf="projects().length > 0">{{ 'project-tab.organization-projects' | translate }}</h3>
    <p *ngIf="!loading() && projects().length === 0">{{ 'project-tab.no-projects' | translate }}</p>
    <app-project-list [projects]="projects()"/>
  </div>
</section>
